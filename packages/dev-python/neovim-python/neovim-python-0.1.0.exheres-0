# Copyright 2015 Volodymyr Medvid <vmedvid@riseup.net>
# Distributed under the terms of the GNU General Public License v2

require github [ user=neovim project=python-client ] \
        setup-py [ import=setuptools work=python-client-${PV} ]

SUMMARY="Python client to neovim"

LICENCES="MIT"
SLOT="0"
PLATFORMS="~amd64"
MYOPTIONS=""

# tests fail with python3: http://ix.io/okY
RESTRICT="test"

DEPENDENCIES="
    build+run:
        dev-python/greenlet[python_abis:*(-)?]
        dev-python/msgpack-python[>=0.4.0][python_abis:*(-)?]
        python_abis:2.7? (
            dev-python/click[>=3.0][python_abis:2.7]
            dev-python/trollius[python_abis:2.7]
            gnome-bindings/pygobject[python_abis:2.7] [[ note = [ for pynvim GUI client ] ]]
        )
    run:
        app-editors/neovim
"

